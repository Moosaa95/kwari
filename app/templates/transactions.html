{%extends "includes/base.html"%}
{%block aside_menu%}
    {%include "includes/aside_menu.html"%}
{%endblock%}
{%block top_menu%}
    {%include "includes/top_menu.html"%}
{%endblock%}
{%block title%}Transaction{%endblock%}
{%block dashboard%}Transactions{%endblock%}
{%block page%}{%endblock%}
{%block content%}

<div class="col-xl-12 order-lg-2 order-xl-1">
   <div class="accordion  accordion-toggle-arrow" id="accordionExample4">
        <div class="card">
            <div class="card-header" id="headingOne4">
                <div class="card-title collapsed" data-toggle="collapse" data-target="#collapseOne4" aria-expanded="false" aria-controls="collapseOne4">
                    <i class="flaticon2-layers-1"></i> Search Filters
                </div>
            </div>
            <div id="collapseOne4" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample4">
                <div class="card-body">
                    <form class="kt-form kt-form--fit kt-margin-b-20" id="searchForm">
                        <div class="row kt-margin-b-20">
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Reference Number:</label>
                                <input type="text" class="form-control kt-input input" name='reference_number' placeholder="E.g: 4590" data-col-index="0">
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>RRN:</label>
                                <input type="text" class="form-control kt-input input" name='rrn' placeholder="E.g: 37000-300" data-col-index="1">
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Terminal</label>
                                <input type="text" class="form-control kt-input input" name='terminal_id' placeholder="E.g: 2033AWZ9" data-col-index="1">
                            </div>
                        </div>

                        <div class="row kt-margin-b-20">
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Third Party:</label>
                                <input type="text" class="form-control kt-input input" name="third_party_ref" placeholder="Agent ID or name" data-col-index="4">
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Account Number:</label>
                                <input type="text" class="form-control kt-input input" name="account_number" placeholder="account number, meter number..." data-col-index="4">
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>No Third Party Ref?:</label>
                                <select class="form-control kt-input input" id="no_third_party_ref" name="no_third_party_ref" data-col-index="6">
                                    <option value="">Select an option</option>
                                    <option value="Yes">Yes</option>
                                </select>
                            </div>
                        </div>

                        <div class="row kt-margin-b-20">
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Date:</label>
                                <div class="input-group date">
                                    <input type="text" class="form-control input" name="date" readonly="readonly" value="" id="kt_datepicker_3">
                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            <i class="la la-calendar"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Date Range:</label>
                                <div class="input-daterange input-group" id="kt_datepicker_5">
                                    <input type="text" class="form-control input" name="start">
                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            <i class="la la-ellipsis-h"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control input" name="end">
                                </div>
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Status:</label>
                                <select class="form-control kt-input input" id="status" name="status" data-col-index="6">
                                    <option value="">Select transaction status</option>
                                    <option value="all">All</option>
                                    <option value="successful">Successful</option>
                                    <option value="failed">Failed</option>
                                    <option value="pending">Pending</option>
                                </select>
                            </div>

                        </div>

                        <div class="row kt-margin-b-20">
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Transaction Type:</label>
                                <select class="form-control kt-input input" id="service" name="service" data-col-index="2" style="width: 100%; height: 50px; line-height: 50px;">
                                </select>
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Account:</label>
                                <select class="form-control kt-input input" name="account" id="account" data-col-index="2" style="width: 100%; height: 50px; line-height: 50px;">
                                </select>
                            </div>
                            <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                <label>Agent:</label>
                                <select class="form-control kt-input input" name="agent" id="agent" data-col-index="2" style="width: 100%; height: 50px; line-height: 50px;">
                                </select>
                            </div>
                        </div>

                        <div class="kt-separator kt-separator--md kt-separator--dashed"></div>
                        <div class="row">
                            <div class="col-lg-12">
                                <button class="btn btn-primary btn-brand--icon" id="searchBtn">
                                    <span>
                                        <i class="la la-search"></i>
                                        <span>Search</span>
                                    </span>
                                </button>

                                <button class="btn btn-primary btn-brand--icon" id="tsqBtn">
                                    <span>
                                        <i class="la la-hourglass-end"></i>
                                        <span>TSQ</span>
                                    </span>
                                </button>
                                &nbsp;&nbsp;
                                <button class="btn btn-secondary btn-secondary--icon" id="kt_reset-transaction">
                                    <span>
                                        <i class="la la-close"></i>
                                        <span>Reset</span>
                                    </span>
                                </button>
                            </div>
                        </div>

                        <div class="alert alert-danger alert-dismissible d-none" role="alert" id="warning">
                            <span id="warningMessage"><!--add error message--></span>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-xl-12 col-md-12 order-lg-2 order-xl-1">
   <ul class="nav nav-tabs nav-fill" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#transferTab">Transactions</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#withdrawalTab">Pending</a>
        </li>
   </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="transferTab" role="tabpanel">
            <div class="kt-portlet kt-portlet--mobile">
                <div class="kt-portlet__head kt-portlet__head--lg">
                    <div class="kt-portlet__head-label">
                        <span class="kt-portlet__head-icon">
                            <i class="kt-font-brand flaticon2-line-chart"></i>
                        </span>
                        <h3 class="kt-portlet__head-title">
                            Transactions
                        </h3>
                    </div>
                    <div class="kt-portlet__head-toolbar">
                        <div class="kt-portlet__head-wrapper">
                            <div class="kt-portlet__head-actions">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="kt-portlet__body">
                    <!--begin: Datatable -->
                    <table class="table table-striped- table-bordered table-hover table-checkable" id="transactionsTable">
                        <thead>
                            <tr>
                                <th>s/n</th>
                                <th>Status</th>
                                <th>Product</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Amount</th>
                                <th>Account Number</th>
                                <th>Shipping Address</th>
                                <th>Mobile Number</th>
                                <th>Reference Number</th>
                                <th>Amount Paid</th>
                                <th>Sender Account</th>
                                <th>Sender Name</th>
                                <th>Stock Before</th>
                                <th>Stock After</th>
                                <th>Transaction Type</th>
                                <th>Transaction Date</th>
                                <th>Remarks</th>
                                <th>Refund Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                    </table>
                    <!--end: Datatable -->
                </div>
            </div>
        </div>

        <div class="tab-pane" id="withdrawalTab" role="tabpanel">
        </div>

    </div>

</div>

<!--begin create structure modal-->
	<div class="modal fade" id="reverseModal" tabindex="-1" role="dialog" aria-labelledby="reverseModal" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="addTerminalLabel">Confirm Transaction Reversal</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					</button>
				</div>
					<div class="modal-body">

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						<button type="button" id="reverseTransactionBtn" class="btn btn-primary">Reverse</button>
                        <button type="button" id="lienBtn" class="btn btn-primary">Lien</button>
					</div>
			</div>
		</div>
	</div>
<!--structure modal-->

<!--begin TSQ modal-->
<div class="modal fade" id="tsqModal" tabindex="-1" role="dialog" aria-labelledby="tsqModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addTerminalLabel">Transaction Query Status</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body" id="tsqModalContent">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" id="resendBtn" disabled>Resend</button>
                <button type="button" class="btn btn-success" id="updateTransferBtn">Update</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--END TSQ modal-->
{%endblock%}

{%block scripts%}
  <script src="/static/assets/js/transactions.js" type="text/javascript"></script>
{%endblock%}